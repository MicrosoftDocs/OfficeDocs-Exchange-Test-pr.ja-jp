---
title: '自動検出サービス: Exchange 2013 Help'
TOCTitle: 自動検出サービス
ms:assetid: b03c0f21-cbc2-4be8-ad03-73a7dac16ffc
ms:mtpsurl: https://technet.microsoft.com/ja-jp/library/Bb124251(v=EXCHG.150)
ms:contentKeyID: 50555847
ms.date: 04/24/2018
mtps_version: v=EXCHG.150
ms.translationtype: HT
---

# 自動検出サービス

 

_**適用先:** Exchange Server 2013_

_**トピックの最終更新日:** 2016-12-09_

Microsoft Exchange 2013 の Exchange 自動検出サービスについて説明します。Exchange 自動検出サービスが実行する操作の内容と仕組みのほか、展開オプションについて取り上げます。

MicrosoftExchange 2013 には、自動検出サービスというサービスがあります。ここでは、サービスの概要について説明し、そのしくみ、自動検出サービスによる Outlook クライアントの構成方法、メッセージング環境で自動検出サービスを展開するためのオプションについて説明します。

自動検出サービスは、次のような操作を行います。

  - サポートされる携帯電話だけではなく、Microsoft、Office Outlook 2007、Outlook 2010、または Outlook 2013 を実行しているクライアントのユーザー プロファイル設定を自動的に構成します。Windows Mobile 6.1 以降のバージョンを実行している電話がサポートされます。使用している電話が Windows の携帯電話ではない場合、携帯電話のマニュアルで、サポート対象になっているかどうかを確認してください。

  - Exchange メッセージング環境に接続する Outlook 2007/Outlook 2010/Outlook 2013 クライアントに、Exchange の機能へのアクセスを提供します。

  - ユーザーの電子メール アドレスとパスワードを使用して、Outlook 2007/Outlook 2010/Outlook 2013 クライアントおよびサポートされる携帯電話にプロファイル設定を提供します。その Outlook クライアントがドメインに参加する場合、ユーザーのドメイン アカウントが使用されます。

**目次**

自動検出サービスの概要

自動検出サービスの動作方法

自動検出サービスの展開オプション

フォレスト間の移動用の自動検出の構成

## 自動検出サービスの概要

自動検出サービスを使用すると、Outlook 2007、Outlook 2010、または Outlook 2013 および一部の携帯電話を構成するのが容易になります。Office Outlook 2007 よりも以前の Outlook のバージョンでは、自動検出サービスを使用できません。以前のバージョンの Microsoft Exchange (Exchange 2003 SP2 以前) および Outlook (Outlook 2003 以前) では、Exchange にアクセスするには、すべてのユーザー プロファイルを手動で構成する必要がありました。メッセージング環境に変更が発生した場合、これらのプロファイルを管理するために追加の作業が必要でした。この作業を行っていない場合は、Outlook クライアントが適切に機能を停止する必要がありました。

Outlook は、自動検出サービスを使用して、新しい接続ポイント (ユーザーのメールボックス GUID + @ + ユーザーのプライマリ SMTP アドレスのドメイン部分で構成される) を検索します。自動検出サービスは、次の情報をクライアントに返します。

  - ユーザーの表示名

  - 内部および外部接続用それぞれの接続設定

  - ユーザーのメールボックス サーバーの場所

  - 空き時間情報、ユニファイド メッセージング、オフライン アドレス帳などの機能を制御するさまざまな Outlook 機能の URL

  - Outlook Anywhere サーバー設定

ユーザーの Exchange 情報が変更されると、Outlook では自動検出サービスを使用してユーザーのプロファイルを自動的に再構成します。たとえば、ユーザーのメールボックスが移動されたり、クライアントがユーザーのメールボックスや利用可能な Exchange の機能に接続できない場合、Outlook では、自動検出サービスを呼び出し、ユーザーのプロファイルを自動的に更新してメールボックスや Exchange の機能への接続に必要な情報を設定します。

ページのトップへ

## 自動検出サービスの動作方法

Exchange 2013 でクライアント アクセス サーバーをインストールするときに、インターネット インフォメーション サービス (IIS) の既定 Web サイトに Autodiscover という名前の既定の仮想ディレクトリが作成されます。この仮想ディレクトリは、以下の状況で、Outlook 2007/Outlook 2010/Outlook 2013 クライアントおよびサポートされる携帯電話からの自動検出サービス要求を処理します。

  - ユーザー アカウントが構成または更新された場合

  - Outlook クライアントが Exchange Web サービスの URL の変更を定期的にチェックする場合

  - Exchange メッセージング環境で基盤となるネットワーク接続の変更が発生した場合

さらに、クライアント アクセス サーバーをインストールするサーバー上に、サービス接続ポイント (SCP) という名前の新しい Active Directory オブジェクトが作成されます。

SCP オブジェクトには、そのフォレストの自動検出サービスの権限リストが含まれます。**Set-ClientAccessServer** コマンドレットを使用して、SCP オブジェクトを更新できます。詳細については、「[Set-ClientAccessServer](https://technet.microsoft.com/ja-jp/library/bb125157\(v=exchg.150\))」を参照してください。


> [!IMPORTANT]
> <STRONG>Set-ClientAccessServer</STRONG> コマンドレットを実行する前に、クライアント アクセス サーバー上の認証されたユーザー アカウントに、SCP オブジェクトへの読み取り許可があることを確認してください。適切なアクセス許可がなければ、アイテムの検索や読み取りを行うことはできません。



SCP オブジェクトの詳細については、[サービス接続ポイントの公開に関するページ](https://go.microsoft.com/fwlink/p/?linkid=72744)を参照してください (このサイトは英語の場合があります)。

外部アクセスの場合、または DNS を使用している場合、クライアントはユーザーの電子メール アドレスのプライマリ SMTP ドメイン アドレスを使用して、インターネット上の自動検出サービスの場所を特定します。


> [!NOTE]
> DNS を使用して自動検出サービスを検出するには、DNS のホスト サービス (SRV) リソース レコードを Outlook クライアントに提供する必要があります。詳細については、DNS の構成に関する Windows ドキュメントを参照してください。また、「<A href="https://go.microsoft.com/fwlink/p/?linkid=85214">ホワイト ペーパー: Exchange 2007 の自動検出サービス</A>」も参照してください。



自動検出サービスを個別のサイト上に構成したかどうかに応じて、自動検出サービスの URL は、https://\<*smtp-address-domain*\>/autodiscover/autodiscover.xml または https://autodiscover.\<*smtp-address-domain*\>/autodiscover/autodiscover.xml のいずれかになります。://\<*smtp-address-domain*\> は、プライマリ SMTP ドメイン アドレスです。たとえば、ユーザーの電子メール アドレスが tony@contoso.com の場合、プライマリ SMTP ドメイン アドレスは contoso.com です。クライアントが Active Directory に接続すると、クライアントは、セットアップ中に作成された SCP オブジェクトを探します。複数のクライアント アクセス サーバーが含まれる展開では、自動検出 SCP オブジェクトはクライアント アクセス サーバーのそれぞれに作成されます。SCP オブジェクトの *ServiceBindingInfo* 属性には、クライアント アクセス サーバーの完全修飾ドメイン名 (FQDN) が https://CAS01/autodiscover/autodiscover.xml という形式で設定されています。CAS01 はクライアント アクセス サーバーの FQDN です。Outlook 2007/Outlook 2010/Outlook 2013 クライアントは、ユーザー資格情報を使用することで Active Directory の認証を受け、自動検出 SCP オブジェクトを検索します。クライアントは自動検出サービスのインスタンスを取得および列挙してから、列挙一覧の最初のクライアント アクセス サーバーに接続し、ユーザーのメールボックスおよび利用可能な Exchange の機能への接続に必要なプロファイル情報を XML データ形式で取得します。

ページのトップへ

## 自動検出サービスの展開オプション

自動検出サービスは、Outlook 2007/Outlook 2010/Outlook 2013 クライアントがオフライン アドレス帳、空き時間情報サービス、ユニファイド メッセージング (UM) などの Exchange の機能に自動的に接続できるように、正しく展開および構成する必要があります。自動検出サービスの展開は、Outlook 2007/Outlook 2010/Outlook 2013 クライアントが空き時間情報サービスなどの Exchange サービスにアクセスできるようにするための 1 つの手順に過ぎません。

## フォレスト間の移動用の自動検出の構成

自動検出サービスは、Outlook フォレストから別のフォレストに移動されたメールボックスの接続中の Exchange クライアントに対し、ユーザー プロファイル情報を提供できます。これを実行するには、**New-MailUser** コマンドレットを使用して、ユーザーのメールボックスが存在していた元のフォレストと移動先フォレストの両方において、メールが有効なユーザーを構成する必要があります。移動元フォレストでは、コマンドレットで *ExternalEmailAddress* パラメーターを使用して、移動先フォレストのメールボックスの新しい電子メール アドレスを指定する必要があります。詳細については、「[New-MailUser](https://technet.microsoft.com/ja-jp/library/aa996335\(v=exchg.150\))」を参照してください。

メールが有効なユーザーを構成すると、元のフォレストの自動検出サービスは、認証中のユーザーを移動先フォレストの新しい電子メール アドレスにリダイレクトします。その後、接続中の Outlook クライアントは、メールボックスが移動された移動先フォレストのクライアント アクセス サーバーにリダイレクトされます。

ページのトップへ

