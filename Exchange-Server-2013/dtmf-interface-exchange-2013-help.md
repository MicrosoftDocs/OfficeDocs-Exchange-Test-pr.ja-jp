---
title: 'DTMF インターフェイス: Exchange Online Help'
TOCTitle: DTMF インターフェイス
ms:assetid: 2c7c9d8a-ed12-4dcf-a5b7-3cea0e785e49
ms:mtpsurl: https://technet.microsoft.com/ja-jp/library/Aa996919(v=EXCHG.150)
ms:contentKeyID: 54651676
ms.date: 05/22/2018
mtps_version: v=EXCHG.150
ms.translationtype: HT
---

# DTMF インターフェイス

 

_**適用先:** Exchange Online, Exchange Server 2013, Exchange Server 2016_

ユニファイド メッセージング (UM) では、発信者がデュアル トーン多重周波数 (DTMF) (タッチトーンとも呼ばれます) や音声入力を使用してシステムを操作することができます。発信者が使用できる方法は、UM ダイヤル プランや自動応答の構成方法によって異なります。

DTMF インターフェイスを使用すると、発信者はダイヤル プランで構成されている Outlook Voice Access 番号または自動応答で構成されている電話番号を呼び出すときに、電話機のキーパッドを使用してユーザーを検索したり、UM ボイス メール メニュー システムを操作したりすることができます。ここでは、DTMF インターフェイスと、発信者が DTMF インターフェイスを使用してユーザーを検索したり、UM ボイス メール メニュー システムを操作したりする方法について説明します。

**目次**

DTMF の概要

UM ダイヤル プランと名前によるダイヤル

DTMF マップ

ユニファイド メッセージングが有効ではないユーザーの DTMF マップ

ユニファイド メッセージングが有効になっているユーザーの DTMF マップ

詳細情報

## DTMF の概要

DTMF を使用する場合、発信者は、ユニファイド メッセージングのメニュー オプションに対応する電話機のキーパッドのキーを押すか、キーの文字を使用してユーザーの名前または電子メール エイリアスを指定することによってそれらを入力する必要があります。発信者が DTMF を使用する理由としては、自動音声認識 (ASR) が有効になっていないことや、音声コマンドを使用しようとして失敗したことなどが考えられます。いずれの場合も、DTMF の入力は、メニューの操作やユーザーの検索に使用されます。

既定で、UM では、DTMF 入力がダイヤル プランで使用され、UM 自動応答の既定の発信者インターフェイスになっています。

発信者は以下のために DTMF 入力を使用できます。

  - Outlook Voice Access を使用したダイヤル プラン ダイヤルイン アクセス

  - ダイヤル プラン ディレクトリ検索およびユーザーの検索

  - 音声認識が有効になっていない自動応答

  - 音声認識が有効になっている自動応答 (DTMF フォールバック自動応答は構成されている場合も、構成されていない場合もある)

  - DTMF フォールバック自動応答 (音声認識は有効になっていない)

## UM ダイヤル プランと名前によるダイヤル

UM ダイヤル プランを作成する場合は、発信者がユーザーを検索するときやユーザーに連絡したいときに名前を検索するために使用する第 1 と第 2 の入力方法を構成できます。これらの設定は、ダイヤル プランの **\[設定\]** ページにあり、**\[名前を検索するときに最初に使用する方法\]** および **\[名前を検索するときに 2 番目に使用する方法\]** と表記されています。以下のオプションは、名前を検索するための第 1 の方法と第 2 の方法の両方で使用できます。

  - 姓 名

  - 名 姓

  - SMTP アドレス

加えて、**\[なし\]** は名前を検索するための第 2 の方法で使用可能なオプションです。

既定では、**\[名 姓\]** が名前を検索するための第 1 の方法として選択されており、**\[SMTP アドレス\]** が名前を検索するための第 2 の方法として選択されています。そのため、発信者が UM ダイヤル プランで構成された Outlook Voice Access 番号に電話をかけると、ダイヤル プランのウェルカム メッセージが再生され、オペレーターから "こちらは Contoso Outlook Voice Access です。メールボックスにアクセスするには、内線番号を入力してください。担当者に連絡するには、シャープを押してください" などのような案内を受けます。発信者が \# キーを押すと、システムから "通話先の担当者のスペルを姓から先に言ってください。または、通話先の担当者の電子メール エイリアスを指定するには \# キーを 2 回押してください" という応答が返されます。このシナリオの場合、ダイヤル プランの構成方法によっては、発信者は次にシステムから、最初にユーザーの姓、次に名の順序で入力するか (\[姓 名\])、またはドメイン名を除く電子メール エイリアスを指定するように求められます。たとえば、ユーザーの電子メール エイリアスが tsmith@contoso.com の場合、発信者は「tsmith」と入力します。

既定の設定ではニーズに合わないためにこの構成を変更する必要がある場合は、発信者がユーザーの電子メール エイリアスを最初に入力するか、またはユーザーの名、姓の順に入力できるように構成を変更することができます。この場合は、**\[名前を検索するときに最初に使用する方法\]** を **\[SMTP アドレス\]** 設定に構成し、**\[名前を検索するときに 2 番目に使用する方法\]** を **\[名 姓\]** 設定に構成します。名前によるダイヤルの方法の設定は、そのダイヤル プランに関連付けられたすべての UM 自動応答にも適用されます。発信者が DTMF の入力、つまり電話のキーパッドのキーを使用してユーザーの名前を入力できるようにするには、そのユーザーに対する DTMF マップと値が組織のディレクトリ内に存在している必要があります。

UM ダイヤル プランの名前によるダイヤルの第 1 の方法および第 2 の方法を変更する方法の詳細については、「[Outlook Voice Access ユーザーが検索する主な方法を構成する](configure-the-primary-way-for-outlook-voice-access-users-to-search-exchange-2013-help.md)」と「[Outlook Voice Access ユーザーが検索する第 2 の方法を構成する](configure-the-secondary-way-for-outlook-voice-access-users-to-search-exchange-2013-help.md)」を参照してください。

DTMF の概要

## DTMF マップ

Exchange 組織では、ディレクトリに作成される各ユーザーに **msExchUMDtmfMap** という名前の属性が関連付けられます。ユニファイド メッセージングは、この属性を使用して、ユーザーの名、姓、および電子メール エイリアスを一連の番号にマップします。このマッピングは DTMF マップと呼ばれます。DTMF マップを使用すると、発信者は、ユーザーの名前や電子メール エイリアスの文字に対応する電話のキーパッドの数字を入力できます。この属性には、名、姓の順になっているユーザーの名前、姓、名の順になっているユーザーの名前、およびユーザーの電子メール エイリアスに対応した DTMF マップを作成するために必要な値が含まれています。

次の表は、tsmith@contoso.com というエイリアスを持つ、UM が有効な Tony Smith というユーザーの **msExchUMDtmfMap** 属性について Active Directory に格納される DTMF マップ値を示しています。

**UM が有効な Tony Smith というユーザーについて格納される DTMF 値**


<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th>ディレクトリ エントリ</th>
<th>ユーザーの名前</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><ul>
<li><p>firstNameLastName:866976484</p></li>
</ul></td>
<td><p>tonysmith</p></td>
</tr>
<tr class="even">
<td><ul>
<li><p>lastNameFirstName:764848669</p></li>
</ul></td>
<td><p>smithtony</p></td>
</tr>
<tr class="odd">
<td><ul>
<li><p>emailAddress:876484</p></li>
</ul></td>
<td><p>tsmith</p></td>
</tr>
</tbody>
</table>


名前や電子メール エイリアスには、コンマ、ハイフン、アンダースコア、ピリオドなどの英数字以外の文字が含まれている場合があります。これらの文字は、ユーザーの DTMF マップでは使用されません。たとえば、Tony Smith の電子メール エイリアスが tony-smith@contoso.com の場合は、DTMF マップ値は 866976484 となり、ハイフンは含まれません。ただし、ユーザーの電子メール エイリアスに 1 つまたは複数の数字が含まれている場合 (たとえば、tonysmith123@contoso.com)、作成される DTMF マップにはこれらの数字が使用されます。tonysmith123 の DTMF マップは 866976484123 になります。

発信者がユーザーの名前または電子メール エイリアスを入力できるようにするためには、そのユーザーの DTMF マップが存在している必要があります。ただし、すべてのユーザーで、そのユーザー アカウントに DTMF マップが関連付けられるわけではありません。

DTMF の概要

## ユニファイド メッセージングが有効ではないユーザーの DTMF マップ

既定では、ユーザー (メールボックスが有効なユーザーを含む) のユニファイド メッセージングは有効になっていません。**msExchUMDtmfMap** 属性には、UM が有効になっていないユーザーの DTMF マップに必要な値が設定されます。既定では、ユーザーのメールボックスの作成時に、以下の DTMF マップがすべてのユーザーに対して作成されます。

1.  emailAddress

2.  firstNameLastName

3.  lastNameFirstName

ユーザーのアカウントに対して DTMF マップ値が定義されていない場合は、発信者が UM 自動応答メニューで電話機のキーを押す、または、ディレクトリ検索を実行するといった方法でそのユーザーと連絡を取ることはできません。また、UM が有効なユーザーは、自動音声認識 (ASR) を使用できない限り、DTMF マップのないユーザーにメッセージを送信したり、呼び出しを転送したりすることはできません。発信者が電話機のキーパッドを使用して UM が有効になっていないユーザーに呼び出しを転送したり、連絡したりできるようにするには、それらのユーザーの DTMF マップに必要な値を作成する必要があります。**Set-User** コマンドレットを *-CreateDtmfMap* パラメーターと共に使用すると、1 人のユーザーの DTMF マップを作成および更新したり、DTMF マップが作成された後に名前が変更されたユーザーの DTMF マップを更新したりすることができます。必要に応じて、このコマンドレットを使用して Exchange 管理シェル スクリプトを作成し、複数のユーザーの DTMF マップ値を更新することができます。

**Set-User** コマンドレットの詳細については、「[Set-User](https://technet.microsoft.com/ja-jp/library/aa998221\(v=exchg.150\))」を参照してください。

DTMF の概要

## ユニファイド メッセージングが有効になっているユーザーの DTMF マップ

既定では、ユニファイド メッセージングが有効になっているユーザーの DTMF マップが作成されます。これにより、外部の発信者、UM が有効になっていないユーザー、および電話機のキーパッドを使用してユーザーの名前または電子メール エイリアスを指定する UM が有効なその他のユーザーから、UM が有効なユーザーに呼び出しを転送できるようになります。

UM が有効なユーザーに対して DTMF マップ値が作成されると、発信者はディレクトリ検索機能を使用できるようになります。発信者が電話のキーパッドを使用しているときにディレクトリ検索を使用する状況としては、次のような場合があります。

  - Outlook Voice Access 番号を呼び出すときにユーザーを識別または検索する。

  - UM 自動応答を呼び出すときに UM が有効なユーザーを検索するか、または UM が有効なユーザーに呼び出しを転送する。

ユーザーのユニファイド メッセージングを有効にする方法の詳細については、「[ボイス メール用にユーザーを有効にする](enable-a-user-for-voice-mail-exchange-2013-help.md)」を参照してください。

ユーザーの UM が有効になった後で、そのユーザーの名、姓、または電子メール エイリアスが変更される場合があります。ユーザーの DTMF マップ値は自動的に更新されません。発信者がユーザーの新しい名前または電子メール エイリアスを入力したときに、そのユーザーの DTMF マップが名前または電子メール エイリアスの変更を反映するように更新されていなかった場合、発信者はディレクトリ内でそのユーザーを検索したり、そのユーザーにメッセージを送信したり、そのユーザーに呼び出しを転送したりすることができません。ユーザーの UM が有効になった後で、そのユーザーの DTMF マップを更新する必要がある場合は、**Set-User** コマンドレットを *-CreateDtmfMap* パラメーターと共に使用します。また、UM が有効な複数のユーザーの DTMF マップを更新する必要がある場合は、このコマンドレットを使用して Exchange 管理シェル スクリプトを作成することができます。


> [!NOTE]
> ADSI Edit などのツールを使用してユーザーの DTMF 値を手動で変更すると、構成の不整合やその他のエラーが発生する可能性があるため、この方法はお勧めできません。ユーザーの DTMF マップを作成または更新する場合は、<STRONG>Set-UMService</STRONG> コマンドレットまたは <STRONG>Set-User</STRONG> コマンドレットのみを使用することをお勧めします。



## 詳細情報

[Adsiedit の概要についてのページ](https://go.microsoft.com/fwlink/p/?linkid=73175)

